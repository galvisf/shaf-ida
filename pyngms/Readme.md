# Nested Ground Motion Set
The nested ground motion set is designed for the IDA to select a suite of records whose key intensity measures closely form an orthogonal grid.  This orthogonal grid (target) can be in high dimensions where multiple intensity measures are considered.  For instance, if using the spectral shape measure SaRatio ([Baker and Cornell, 2006](https://onlinelibrary.wiley.com/doi/10.1002/eqe.571); [Eads et al., 2016](https://onlinelibrary.wiley.com/doi/full/10.1002/eqe.2575)) and ground motion duration Ds<sub>5-75</sub> ([Bommer and Martinez-Pereira, 1999](https://www.tandfonline.com/doi/abs/10.1080/13632469909350343), the figure below shows one example grid target (grey dots) as well as the selected ground motion records (red dots) for a conditioning period T<sub>1</sub> = 2s. The algorithm can also penalize large scaling factors as specified by users. In addition to covering a wide range of possible ground motion characteristics, the orthogonal grid is designated to avoid strong correlations among the intensity measures in the generic ground motion set. This correlation issue is termed collinearity ([Baker and Cornell, 2005](https://onlinelibrary.wiley.com/doi/abs/10.1002/eqe.474)): if two intensity measures are highly correlated, it is difficult to separate their effects on, with confidence, the corresponding coefficients in the response prediction model.

<p align="center">
 <img width="40%" height="40%" src="https://github.com/kuanshi/shaf-ida/blob/master/doc/image/NGMS_GRID.png">
</p>

